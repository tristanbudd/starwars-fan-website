function truncate(str,length){if(str.length<=length){return str}return str.slice(0,length).replace(/\s+$/,"")+"..."}function toggleMobileMenu(){const mobile_header=document.getElementById("mobile-header");const mobile_nav_icon=document.getElementById("mobile-nav-icon");if(!mobile_header||!mobile_nav_icon){return}if(mobile_header.style.display==="none"||mobile_header.style.display===""){mobile_header.style.display="flex";mobile_nav_icon.classList.remove("fa-bars");mobile_nav_icon.classList.add("fa-xmark")}else{mobile_header.style.display="none";mobile_nav_icon.classList.remove("fa-xmark");mobile_nav_icon.classList.add("fa-bars")}}function disableLoader(){const page_loader=document.getElementById("page-loader");if(page_loader){page_loader.remove()}}function loadDiscordWidgets(){const maxDisplayUsers=10;const widgetDiscordTitle=document.getElementById("discord-title");const widgetDiscordPlayerCount=document.getElementById("discord-player-count");const widgetDiscordServerID=document.getElementById("discord-server-id");const widgetDiscordUserList=document.getElementById("discord-user-list");const widgetDiscordJoinName=document.getElementById("discord-join");const widgetDiscordMemberList=document.getElementById("discord-member-list");const widgetDiscordAPI="https://discord.com/api/guilds/228406572756369408/widget.json";if(!widgetDiscordTitle||!widgetDiscordPlayerCount||!widgetDiscordServerID||!widgetDiscordUserList||!widgetDiscordJoinName){disableLoader();return}fetch(widgetDiscordAPI).then(response=>response.json()).then(data=>{widgetDiscordTitle.textContent=`| ${data.name??"Unknown Server"}`;widgetDiscordPlayerCount.textContent=`| Members Online: ${data.presence_count?.toLocaleString()??"N/A"}`;widgetDiscordServerID.textContent=`| Server ID: ${data.id??"N/A"}`;widgetDiscordJoinName.textContent=`Join ${data.name??"Server"}`;if(!data.presence_count||data.presence_count<1){const noMembersMsg=document.createElement("h3");noMembersMsg.textContent="No Online Members";widgetDiscordUserList.appendChild(noMembersMsg)}else{const totalMembers=data.members.length;let membersToShow=data.members;if(totalMembers>maxDisplayUsers){widgetDiscordMemberList.textContent=`Member List: (Showing: ${maxDisplayUsers})`;const shuffled=data.members.sort(()=>.5-Math.random());membersToShow=shuffled.slice(0,maxDisplayUsers)}membersToShow.forEach(member=>{const userDiv=document.createElement("div");userDiv.className="discord-widget-user";const avatarImg=document.createElement("img");avatarImg.alt=`${member.username}'s avatar`;avatarImg.src=member.avatar_url||`https://cdn.discordapp.com/embed/avatars/${Math.floor(Math.random()*5)}.png`;const statusDiv=document.createElement("div");let statusColor="#F24549";if(member.status==="online")statusColor="#2AA85F";else if(member.status==="idle")statusColor="#F79C18";statusDiv.style.backgroundColor=statusColor;statusDiv.className="discord-user-status";const usernameP=document.createElement("p");usernameP.className="discord-widget-username";usernameP.textContent=truncate(member.username,16);userDiv.appendChild(avatarImg);userDiv.appendChild(statusDiv);userDiv.appendChild(usernameP);widgetDiscordUserList.appendChild(userDiv)})}}).catch(error=>{widgetDiscordTitle.textContent="| Unknown Server";widgetDiscordPlayerCount.textContent="| Members Online: N/A";widgetDiscordServerID.textContent="| Server ID: N/A";widgetDiscordJoinName.textContent="Join Server";const noMembersMsg=document.createElement("h3");noMembersMsg.textContent="No Online Members";widgetDiscordUserList.appendChild(noMembersMsg);console.error("Error | Error fetching Discord widget: ",error)});disableLoader()}document.addEventListener("DOMContentLoaded",loadDiscordWidgets);function loadGA(){var gaScript=document.createElement("script");gaScript.src="https://www.googletagmanager.com/gtag/js?id=[[YOUR ID HERE]]";gaScript.async=true;document.head.appendChild(gaScript);gaScript.onload=function(){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}window.gtag=gtag;gtag("consent","default",{ad_storage:"denied",analytics_storage:"denied",ad_personalization:"denied",ad_user_data:"denied"});gtag("js",new Date);gtag("config","[[YOUR ID HERE]]")}}function acceptCookies(){const d=new Date;d.setTime(d.getTime()+365*24*60*60*1e3);const expires="expires="+d.toUTCString();document.cookie="cookies_consent=accepted;"+expires+";path=/";const cookiesBanner=document.getElementById("cookie-consent-banner");if(cookiesBanner)cookiesBanner.style.display="none";if(!window.gtag)loadGA();window.gtag&&window.gtag("consent","update",{ad_storage:"granted",analytics_storage:"granted",ad_personalization:"granted",ad_user_data:"granted"})}function declineCookies(){const d=new Date;d.setTime(d.getTime()+365*24*60*60*1e3);const expires="expires="+d.toUTCString();document.cookie="cookies_consent=declined;"+expires+";path=/";const cookiesBanner=document.getElementById("cookie-consent-banner");if(cookiesBanner)cookiesBanner.style.display="none";if(!window.gtag)loadGA()}function checkCookiesConsent(){const cookies=document.cookie.split(";");let consentGiven=false;for(let i=0;i<cookies.length;i++){const cookie=cookies[i].trim();if(cookie==="cookies_consent=accepted"){consentGiven=true;break}}if(consentGiven){if(!window.gtag)loadGA();window.gtag&&window.gtag("consent","update",{ad_storage:"granted",analytics_storage:"granted",ad_personalization:"granted",ad_user_data:"granted"})}else{const cookie_consent_banner=document.getElementById("cookie-consent-banner");if(cookie_consent_banner)cookie_consent_banner.style.display="flex"}}document.addEventListener("DOMContentLoaded",checkCookiesConsent);