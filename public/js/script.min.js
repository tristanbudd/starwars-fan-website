function getDocumentPath(pathType="",component=false){const host=window.location.hostname;const isRunningLocally=host==="localhost"||host==="0.0.0.0"||host==="[::1]"||host.startsWith("127.");let path="";if(isRunningLocally){path="../"+pathType}else{path="";if(component){path=window.location.origin+"/public"}}return path}function truncate(str,length){if(str.length<=length){return str}return str.slice(0,length).replace(/\s+$/,"")+"..."}function toggleMobileMenu(){const mobile_header=document.getElementById("mobile-header");const mobile_nav_icon=document.getElementById("mobile-nav-icon");if(!mobile_header||!mobile_nav_icon){return}if(mobile_header.style.display==="none"||mobile_header.style.display===""){mobile_header.style.display="flex";mobile_nav_icon.classList.remove("fa-bars");mobile_nav_icon.classList.add("fa-xmark")}else{mobile_header.style.display="none";mobile_nav_icon.classList.remove("fa-xmark");mobile_nav_icon.classList.add("fa-bars")}}function disableLoader(){const page_loader=document.getElementById("page-loader");if(page_loader){page_loader.remove()}}function loadDiscordWidgets(){const maxDisplayUsers=10;const widgetDiscordTitle=document.getElementById("discord-title");const widgetDiscordPlayerCount=document.getElementById("discord-player-count");const widgetDiscordServerID=document.getElementById("discord-server-id");const widgetDiscordUserList=document.getElementById("discord-user-list");const widgetDiscordJoinName=document.getElementById("discord-join");const widgetDiscordMemberList=document.getElementById("discord-member-list");const widgetDiscordAPI="https://discord.com/api/guilds/228406572756369408/widget.json";if(!widgetDiscordTitle||!widgetDiscordPlayerCount||!widgetDiscordServerID||!widgetDiscordUserList||!widgetDiscordJoinName){return}fetch(widgetDiscordAPI).then(response=>response.json()).then(data=>{widgetDiscordTitle.textContent=`| ${data.name??"Unknown Server"}`;widgetDiscordPlayerCount.textContent=`| Members Online: ${data.presence_count??"N/A"}`;widgetDiscordServerID.textContent=`| Server ID: ${data.id??"N/A"}`;widgetDiscordJoinName.textContent=`Join ${data.name??"Server"}`;if(!data.presence_count||data.presence_count<1){const noMembersMsg=document.createElement("h3");noMembersMsg.textContent="No Online Members";widgetDiscordUserList.appendChild(noMembersMsg)}else{const totalMembers=data.members.length;let membersToShow=data.members;if(totalMembers>maxDisplayUsers){widgetDiscordMemberList.textContent=`Member List: (Showing: ${maxDisplayUsers} of ${totalMembers})`;const shuffled=data.members.sort(()=>.5-Math.random());membersToShow=shuffled.slice(0,maxDisplayUsers)}membersToShow.forEach(member=>{const userDiv=document.createElement("div");userDiv.className="discord-widget-user";const avatarImg=document.createElement("img");avatarImg.alt=`${member.username}'s avatar`;avatarImg.src=member.avatar_url||`https://cdn.discordapp.com/embed/avatars/${Math.floor(Math.random()*5)}.png`;const statusDiv=document.createElement("div");let statusColor="#F24549";if(member.status==="online")statusColor="#2AA85F";else if(member.status==="idle")statusColor="#F79C18";statusDiv.style.backgroundColor=statusColor;statusDiv.className="discord-user-status";const usernameP=document.createElement("p");usernameP.className="discord-widget-username";usernameP.textContent=truncate(member.username,16);userDiv.appendChild(avatarImg);userDiv.appendChild(statusDiv);userDiv.appendChild(usernameP);widgetDiscordUserList.appendChild(userDiv)})}}).catch(error=>{widgetDiscordTitle.textContent="| Unknown Server";widgetDiscordPlayerCount.textContent="| Members Online: N/A";widgetDiscordServerID.textContent="| Server ID: N/A";widgetDiscordJoinName.textContent="Join Server";const noMembersMsg=document.createElement("h3");noMembersMsg.textContent="No Online Members";widgetDiscordUserList.appendChild(noMembersMsg);console.error("Error | Error fetching Discord widget: ",error)});disableLoader()}document.addEventListener("DOMContentLoaded",loadDiscordWidgets);document.addEventListener("DOMContentLoaded",function(){const page_news_updates_loader=document.getElementById("page-news-updates-loader");if(page_news_updates_loader){fetch(getDocumentPath("public",true)+"/components/blog-homepage.php").then(response=>{if(!response.ok){throw new Error("Network response was not ok: "+response.statusText)}return response.text()}).then(html=>{page_news_updates_loader.innerHTML=html}).catch(error=>{page_news_updates_loader.innerHTML='<div class="page-news-updates-content"><h2>Unable To Fetch Latest Article :(</h2></div>';console.error("Error | Fetch error: ",error)}).finally(()=>{disableLoader()})}const blog_page_content=document.getElementById("blog-page-content");if(blog_page_content){const urlParams=new URLSearchParams(window.location.search);const currentPage=urlParams.get("page")||1;fetch(getDocumentPath("public",true)+`/components/blog-page.php?page=${currentPage}`).then(response=>{if(!response.ok){throw new Error("Network response was not ok: "+response.statusText)}return response.text()}).then(html=>{blog_page_content.innerHTML=html}).catch(error=>{blog_page_content.innerHTML=`<h2>Unable To Fetch Articles :(</h2>`;console.error("Error | Fetch error: ",error)}).finally(()=>{disableLoader()})}const blog_view_content=document.getElementById("blog-view-content");if(blog_view_content){const urlParams=new URLSearchParams(window.location.search);const articleID=urlParams.get("id");if(!articleID){blog_view_content.innerHTML="<h2>Article Not Found :(</h2>";disableLoader();return}fetch(getDocumentPath("public",true)+`/components/blog-view.php?id=${articleID}`).then(response=>{if(!response.ok){throw new Error("Network response was not ok: "+response.statusText)}return response.text()}).then(html=>{blog_view_content.innerHTML=html}).catch(error=>{blog_view_content.innerHTML=`<h2>Unable To Fetch Article :(</h2>`;console.error("Error | Fetch error: ",error)}).finally(()=>{disableLoader()})}const guide_page_content=document.getElementById("guide-page-content");if(guide_page_content){const urlParams=new URLSearchParams(window.location.search);const currentPage=urlParams.get("page")||1;fetch(getDocumentPath("public",true)+`/components/guide-page.php?page=${currentPage}`).then(response=>{if(!response.ok){throw new Error("Network response was not ok: "+response.statusText)}return response.text()}).then(html=>{guide_page_content.innerHTML=html}).catch(error=>{guide_page_content.innerHTML=`<h2>Unable To Fetch Guides :(</h2>`;console.error("Error | Fetch error: ",error)}).finally(()=>{disableLoader()})}const guide_view_content=document.getElementById("guide-view-content");if(guide_view_content){const urlParams=new URLSearchParams(window.location.search);const guideID=urlParams.get("id");if(!guideID){guide_view_content.innerHTML="<h2>Guide Not Found :(</h2>";disableLoader();return}fetch(getDocumentPath("public",true)+`/components/guide-view.php?id=${guideID}`).then(response=>{if(!response.ok){throw new Error("Network response was not ok: "+response.statusText)}return response.text()}).then(html=>{guide_view_content.innerHTML=html}).catch(error=>{guide_view_content.innerHTML=`<h2>Unable To Fetch Guide :(</h2>`;console.error("Error | Fetch error: ",error)}).finally(()=>{disableLoader()})}});function loadGA(){var gaScript=document.createElement("script");gaScript.src="https://www.googletagmanager.com/gtag/js?id=[[YOUR ID HERE]]";gaScript.async=true;document.head.appendChild(gaScript);gaScript.onload=function(){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}window.gtag=gtag;gtag("consent","default",{ad_storage:"denied",analytics_storage:"denied",ad_personalization:"denied",ad_user_data:"denied"});gtag("js",new Date);gtag("config","[[YOUR ID HERE]]")}}function acceptCookies(){const d=new Date;d.setTime(d.getTime()+365*24*60*60*1e3);const expires="expires="+d.toUTCString();document.cookie="cookies_consent=accepted;"+expires+";path=/";const cookiesBanner=document.getElementById("cookie-consent-banner");if(cookiesBanner)cookiesBanner.style.display="none";if(!window.gtag)loadGA();window.gtag&&window.gtag("consent","update",{ad_storage:"granted",analytics_storage:"granted",ad_personalization:"granted",ad_user_data:"granted"})}function declineCookies(){const d=new Date;d.setTime(d.getTime()+365*24*60*60*1e3);const expires="expires="+d.toUTCString();document.cookie="cookies_consent=declined;"+expires+";path=/";const cookiesBanner=document.getElementById("cookie-consent-banner");if(cookiesBanner)cookiesBanner.style.display="none";if(!window.gtag)loadGA()}function checkCookiesConsent(){const cookies=document.cookie.split(";");let consentGiven=false;for(let i=0;i<cookies.length;i++){const cookie=cookies[i].trim();if(cookie==="cookies_consent=accepted"){consentGiven=true;break}}if(consentGiven){if(!window.gtag)loadGA();window.gtag&&window.gtag("consent","update",{ad_storage:"granted",analytics_storage:"granted",ad_personalization:"granted",ad_user_data:"granted"})}else{const cookie_consent_banner=document.getElementById("cookie-consent-banner");if(cookie_consent_banner)cookie_consent_banner.style.display="flex"}}document.addEventListener("DOMContentLoaded",checkCookiesConsent);